<div class="container">
  <div class="row p-sm-5">
    <div class="text-center">
      <h3>If you want to contact me regarding work, ideas, or ask how I am</h3>
      <h3>Write me a message!</h3>
    </div>
  </div>
  <div class="row">
    <div>
      <div class="d-flex justify-content-center align-items-center w-100">
        <ngb-toast
          *ngIf="success === true && show"
          header="Success!"
          [delay]="10000"
          [autohide]="autohide"
          class="bg-success text-light"
          style="position: absolute; z-index:1;"
        >
          <div *ngIf="success">Message was sent</div>
        </ngb-toast>
        <ngb-toast
          *ngIf="success === false && show"
          header="Error"
          [delay]="10000"
          [autohide]="autohide"
          class="bg-danger text-light"
          style="position: absolute; z-index:1;"
        >
          <div *ngIf="!success">Error occurred, try again later</div>
        </ngb-toast>
      </div>
      <form #contactForm (ngSubmit)="sendEmail($event)" (ngSubmit)="clearForm(contactForm)">
        <div class="mb-3 form-floating">
          <input
            type="text"
            class="form-control"
            id="fullName"
            placeholder="Full name"
            name="fullName"
            [(ngModel)]="email.fullName"
            #fullName="ngModel"
            required>
          <label for="fullName">Full name</label>
          <div
            [hidden]="fullName.valid || fullName.untouched"
            class="alert alert-danger">
            Please, provide your name
          </div>
        </div>
        <div class="mb-3 form-floating">
          <input
            type="email"
            class="form-control"
            id="emailAddress"
            placeholder="example@domain.com"
            name="emailAddress"
            [(ngModel)]="email.emailAddress"
            #emailAddress="ngModel"
            required email>
          <label for="emailAddress" class="form-label">Email address</label>
          <div
            [hidden]="emailAddress.valid || emailAddress.untouched"
            class="alert alert-danger">
            Please, provide your email address
          </div>
        </div>
        <div class="mb-3 form-floating">
          <textarea
            type="text"
            class="form-control"
            id="message"
            rows="4"
            placeholder="Message..."
            name="message"
            [(ngModel)]="email.message"
            #message="ngModel"
            required></textarea>
          <label for="message" class="form-label">Message...</label>
          <div
            [hidden]="message.valid || message.untouched"
            class="alert alert-danger">
            Write me a few words, please :)
          </div>
        </div>
        <div>
          <button
            type="submit"
            class="btn btn-success btn-lg"
            [disabled]="fullName.invalid || emailAddress.invalid || message.invalid"
            (click)="show = true"
            >Send</button>
        </div>
      </form>
    </div>
  </div>
</div>
